{% extends 'base.html' %}

{% load static %}

{% block title %}
  Todo List
{% endblock title %}
{% block content %}
  {% comment %} <header>
    <nav>
      <a href="{% url 'recipe_list' %}">Main page</a>
      {% if user.is_authenticated %}
      <a id="creating_button" href="{% url 'create_recipe' %}">Create a recipe</a>
      {% endif %}

      {% if user.is_authenticated %}
      <a href="{% url 'my_recipe_list' %}">My Recipes</a>
      <div class="Hello">Hello, {{ user.first_name }} {{ user.last_name }}</div>
      <a id="log_out_button" href="{% url "user_logout" %}">Logout</a>
      {% else %}
        <a href="{% url 'signup' %}">Sign Up</a>
        <a id="log_button" href="{% url 'user_login' %}">Login</a>
      {% endif %}


    </nav>
  </header> {% endcomment %}
  <main>
    <div>
      <h1>My Lists</h1>
      <div>
        <p>
          <a href="{% url "todo_list_create" %}">Create a new list</a>
        </p>
        <p>
          <a href="{% url "todo_item_create" %}">Create a new item</a>
        </p>
      </div>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Number of Items</th>
          </tr>
        </thead>
        <tbody>
          {% for task in todo_lists.all %}
            <tr>
              <td>
                <a href="{% url "todo_list_detail" task.id %}">{{ task.name }}</a>
              </td>
              <td>{{ task.items.count }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </main>
{% endblock content %}
